<% include ../partials/header %>

<% if (!job) { %>

    <!-- to be styled in the future -->
    <div class="ui centered huge header" id="header">You Have No Jobs</div>
    
<% } else { %>

    <div class="ui centered huge header" id="header">My Jobs</div>

    <table class="ui celled padded table">
        <thead>
            <tr>
                <th class="three wide">Name</th>
                <!-- <th class="three wide">Rating</th> -->
                <th class="eleven wide">Description</th>
                <th class="two wide">Accept</th>
            </tr>
        </thead>
        <tbody>
            <% job.applicants.forEach(function(applicant){ %>
                <tr>
                    <td><%= applicant.firstName[0].toUpperCase() + applicant.firstName.slice(1) + " " + applicant.lastName[0].toUpperCase() + applicant.lastName.slice(1) %></td>
                    
                    <% applicant.programmer.appliedJobs.forEach(function(appliedJob){
                        if (appliedJob.id.equals(job._id)) { %>
                            <td><%= appliedJob.description %></td>
                        <% }
                    }); %>
                    
                    <td><a class="ui green button">Accept</a></td>
                </tr>
            <% }); %>
        </tbody>
    </table>
    
<% } %>

<% include ../partials/footer %>